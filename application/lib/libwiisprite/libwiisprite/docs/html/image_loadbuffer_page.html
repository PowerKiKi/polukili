<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libwiisprite: Image - Loading from buffer</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="image_loadbuffer_page">Image - Loading from buffer </a></h1><h2><a class="anchor" name="image_loadbuffer_intro_sec">
Intro</a></h2>
Most of the time you'll want to load an image from the SD card. This is done easily by just specifying the path of the image based on the location of the boot.[dol|elf| file. That means, if your boot file is in /apps/foo and your image is /apps/foo/bar.png, then <div class="fragment"><pre class="fragment">image.LoadImage(<span class="stringliteral">"/apps/foo/bar.png"</span>);
</pre></div> equals to <div class="fragment"><pre class="fragment">image.LoadImage(<span class="stringliteral">"bar.png"</span>);
</pre></div><p>
If you're using wiiload, think that the boot file is running from root.<p>
There are some situations however, where you want to load from a buffer. Say, you have a very small application you just want to run very fast. Or maybe you have your own package system where you can extract each file with its own buffer. Anyway, you will need a way to load an image directly, and not through the filesystem.<h2><a class="anchor" name="image_loadbuffer_preparing_sec">
Preparing the image</a></h2>
If you have your own method for loading something into an unsigned char array, skip this section.<p>
Since you are using devkit, there are some nice tools for you already available. If you look into the devkitPPC/bin folder, there is a tool called raw2c. It can convert any file to a unsigned char buffer. We're going to use this tool. To use it, simply specify you image as an argument when starting the program. Or you could just drag and drop your image onto it. Either way you are presented with a *.c and *.h file. Copy these files into your source folder and include the header file at the point where you want to have access to it. The header file will have one unsigned char[] member, which we will are going to use for loading.<h2><a class="anchor" name="image_loadbuffer_loading_sec">
Loading the buffer</a></h2>
libwiisprite assumes that if you're loading a unsigned char array, that it's a buffer. If you're just entering a simple char array ("foo/bar.png") it will assume that it's loading from a path. You can take control over this behaviour with IMG_LOAD_TYPE.<p>
Let's say you converted bar.png with raw2c and included the header file in your source. Now you just need to type the command <div class="fragment"><pre class="fragment">image.LoadImage(bar);
</pre></div> and it should load just fine! </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 10 20:36:15 2008 for libwiisprite by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>

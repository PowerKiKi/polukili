<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libwiisprite: include/sprite.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>include/sprite.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * libwiisprite - Sprite, Rectangle</span>
<a name="l00003"></a>00003 <span class="comment"> */</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef LIBWIISPRITE_SPRITE</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define LIBWIISPRITE_SPRITE</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;gccore.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "image.h"</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "layer.h"</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include "tiledlayer.h"</span>
<a name="l00013"></a>00013 
<a name="l00015"></a>00015 <span class="keyword">namespace </span>wsp{
<a name="l00017"></a><a class="code" href="structwsp_1_1Rectangle.html">00017</a>         <span class="keyword">struct </span><a class="code" href="structwsp_1_1Rectangle.html" title="Basic data for a rectangle.">Rectangle</a>{
<a name="l00018"></a><a class="code" href="structwsp_1_1Rectangle.html#e1a9d7de477e0c9fdee1c9ae33d0d609">00018</a>                 f32 <a class="code" href="structwsp_1_1Rectangle.html#4d0dc8250b644c58c63193fd5c4e2f5b" title="X position.">x</a>, 
<a name="l00019"></a>00019                         <a class="code" href="structwsp_1_1Rectangle.html#e1a9d7de477e0c9fdee1c9ae33d0d609" title="Y position.">y</a>; 
<a name="l00020"></a><a class="code" href="structwsp_1_1Rectangle.html#6b249c97617f0515269fe98c4009052a">00020</a>                 f32 <a class="code" href="structwsp_1_1Rectangle.html#6b249c97617f0515269fe98c4009052a" title="Width of rectangle.">width</a>, 
<a name="l00021"></a>00021                         <a class="code" href="structwsp_1_1Rectangle.html#b44319fbcd0a7fa21317ecbfe87a59bd" title="Height of rectangle.">height</a>; 
<a name="l00022"></a>00022         };
<a name="l00023"></a>00023 
<a name="l00025"></a><a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001">00025</a>         <span class="keyword">enum</span> <a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001" title="Texture transformation.">TRANSFORM</a>{
<a name="l00026"></a><a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf5270010d0a7df5a4e2a286f5774287a8516763">00026</a>                 <a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf5270010d0a7df5a4e2a286f5774287a8516763" title="No transformation.">TRANS_NONE</a> = 0, 
<a name="l00027"></a><a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001b97fd8d17dc84130afe103720dd1f4bb">00027</a>                 <a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001b97fd8d17dc84130afe103720dd1f4bb" title="Texture is mirrored.">TRANS_MIRROR</a> = 1, 
<a name="l00028"></a><a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001982d7096a907ceb759229cec762b9544">00028</a>                 <a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf527001982d7096a907ceb759229cec762b9544" title="Turns off bilinear filtering for this texture.">TRANS_BILINEAR_OFF</a> = 2, 
<a name="l00029"></a><a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf5270014e1be7a973db69a6dbe8688dc283fca8">00029</a>                 <a class="code" href="namespacewsp.html#bb56736900f8fa54762dfd5fcf5270014e1be7a973db69a6dbe8688dc283fca8" title="Turns on additive blending. Useful for particle effects.">TRANS_ADDITIVE_BLENDING</a> = 4 
<a name="l00030"></a>00030         };
<a name="l00031"></a>00031 
<a name="l00033"></a><a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444">00033</a>         <span class="keyword">enum</span> <a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444" title="Changes how the position gets calculated for the sprite.">REFPIXEL_POSITIONING</a>{
<a name="l00034"></a><a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a4444971b3fcdc6ce5442440c313d7f8050e">00034</a>                 <a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a4444971b3fcdc6ce5442440c313d7f8050e" title="Default. Sprite position is based on topleft corner.">REFPIXEL_POS_TOPLEFT</a> = 0, 
<a name="l00035"></a><a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444595005eb21d8d804bb3e51fc6fc121e2">00035</a>                 <a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444595005eb21d8d804bb3e51fc6fc121e2" title="The reference pixel is placed at the X and Y coordinates.">REFPIXEL_POS_PIXEL</a> 
<a name="l00036"></a>00036         };
<a name="l00037"></a>00037 
<a name="l00039"></a><a class="code" href="classwsp_1_1Sprite.html">00039</a>         <span class="keyword">class </span><a class="code" href="classwsp_1_1Sprite.html" title="A basic drawable object with animation support.">Sprite</a> : <span class="keyword">public</span> <a class="code" href="classwsp_1_1Layer.html" title="Drawable objects should derive from this class. Layers can be managed by LayerManagers...">Layer</a>{
<a name="l00040"></a>00040                 <span class="keyword">public</span>:
<a name="l00042"></a>00042                         <a class="code" href="classwsp_1_1Sprite.html#04c923f59753be9b24fb6ab004c956e4" title="Constructor.">Sprite</a>();
<a name="l00044"></a>00044                         <span class="keyword">virtual</span> <a class="code" href="classwsp_1_1Sprite.html#31aef0506018c037e45dbe4cc83faf3a" title="Destructor.">~Sprite</a>();
<a name="l00045"></a>00045                         
<a name="l00051"></a>00051                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#80199f9ea8a53ba42c57d3d805345470">SetImage</a>(<a class="code" href="classwsp_1_1Image.html" title="Stores imagedata and is capable of loading pngs.">Image</a>* image, u32 frameWidth = 0, u32 frameHeight = 0);
<a name="l00054"></a>00054                         <span class="keyword">const</span> <a class="code" href="classwsp_1_1Image.html" title="Stores imagedata and is capable of loading pngs.">Image</a>* <a class="code" href="classwsp_1_1Sprite.html#733635200bdb1a7c77a71a028123fcf3">GetImage</a>() <span class="keyword">const</span>;
<a name="l00057"></a>00057                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#814e1285c935e9c0961c25a4045d3c3d">SetTransform</a>(u8 transform);
<a name="l00060"></a>00060                         u8 <a class="code" href="classwsp_1_1Sprite.html#3f4f986f2cc8605b6bb47eb84f236772">GetTransform</a>() <span class="keyword">const</span>;
<a name="l00061"></a>00061 
<a name="l00064"></a>00064                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#dc21aca7ca8b17eac3777cb2dab75308">SetRotation</a>(f32 rotation);
<a name="l00067"></a>00067                         f32 <a class="code" href="classwsp_1_1Sprite.html#a2ab28cb8a02ce24f87a05c09824cd8d">GetRotation</a>() <span class="keyword">const</span>;
<a name="l00068"></a>00068 
<a name="l00071"></a>00071                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#4c7129c851d28e4e77e78924b3f4172f">SetZoom</a>(f32 zoom);
<a name="l00074"></a>00074                         f32 <a class="code" href="classwsp_1_1Sprite.html#b82e52f2d1b1bc4d50660985edf4f9af">GetZoom</a>() <span class="keyword">const</span>;
<a name="l00077"></a>00077                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#e01001a28d63d653d6649323da250310">SetStretchWidth</a>(f32 stretchWidth);
<a name="l00080"></a>00080                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#cbc1a8455a83f93de418d4d53d4917b7">SetStretchHeight</a>(f32 stretchHeight);
<a name="l00083"></a>00083                         f32 <a class="code" href="classwsp_1_1Sprite.html#d62e0d8e1b5c1322d0c9e56d2bf7703b">GetStretchWidth</a>() <span class="keyword">const</span>;
<a name="l00086"></a>00086                         f32 <a class="code" href="classwsp_1_1Sprite.html#e8c21ba85d0d0593d6fc87cd8e7b9b49">GetStretchHeight</a>() <span class="keyword">const</span>;
<a name="l00087"></a>00087 
<a name="l00090"></a>00090                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#1e02f6bebf1e598569d9b24a0a3eb47c">SetTransparency</a>(u8 alpha);
<a name="l00093"></a>00093                         u8 <a class="code" href="classwsp_1_1Sprite.html#b8f6b2792e842564d33f56f3748b4fd7">GetTransparency</a>() <span class="keyword">const</span>;
<a name="l00094"></a>00094 
<a name="l00100"></a>00100                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#5507482b437e51de9a79a992ccc7493b">SetRefPixelPosition</a>(f32 x, f32 y);
<a name="l00103"></a>00103                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#070687b37be838b26de758d9a79cd601">SetRefPixelX</a>(f32 x);
<a name="l00106"></a>00106                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#7c0906fb2dbd40c8da1bbb3ec03ebc83">SetRefPixelY</a>(f32 y);
<a name="l00109"></a>00109                         f32 <a class="code" href="classwsp_1_1Sprite.html#c4aba2e51d60721d73026ceec0af33a5">GetRefPixelX</a>() <span class="keyword">const</span>;
<a name="l00112"></a>00112                         f32 <a class="code" href="classwsp_1_1Sprite.html#273bbcde04ea10d9321c73e0b9ca4694">GetRefPixelY</a>() <span class="keyword">const</span>;
<a name="l00115"></a>00115                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#2f32435f0ad8b9ae615cf64f485b58b5">SetRefPixelPositioning</a>(<a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444" title="Changes how the position gets calculated for the sprite.">REFPIXEL_POSITIONING</a> positioning);
<a name="l00118"></a>00118                         <a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444" title="Changes how the position gets calculated for the sprite.">REFPIXEL_POSITIONING</a> <a class="code" href="classwsp_1_1Sprite.html#8458fe25094e4d75916b5757a7fec80c">GetRefPixelPositioning</a>() <span class="keyword">const</span>;
<a name="l00119"></a>00119 
<a name="l00125"></a>00125                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#6de240ba7f84ddf29cd8572a6a5cfa35">DefineCollisionRectangle</a>(f32 x, f32 y, f32 width, f32 height);
<a name="l00128"></a>00128                         <span class="keyword">const</span> <a class="code" href="structwsp_1_1Rectangle.html" title="Basic data for a rectangle.">Rectangle</a>* <a class="code" href="classwsp_1_1Sprite.html#c5f35c95f1cab22366e37d0b8b112fde">GetCollisionRectangle</a>() <span class="keyword">const</span>;
<a name="l00134"></a>00134                         <span class="keywordtype">bool</span> <a class="code" href="classwsp_1_1Sprite.html#ec2f63b43b613d1383deaf167c9ec7ab">CollidesWith</a>(<span class="keyword">const</span> <a class="code" href="structwsp_1_1Rectangle.html" title="Basic data for a rectangle.">Rectangle</a>* rect, f32 x = 0, f32 y = 0) <span class="keyword">const</span>;
<a name="l00139"></a>00139                         <span class="keywordtype">bool</span> <a class="code" href="classwsp_1_1Sprite.html#ec2f63b43b613d1383deaf167c9ec7ab">CollidesWith</a>(<span class="keyword">const</span> <a class="code" href="classwsp_1_1Sprite.html" title="A basic drawable object with animation support.">Sprite</a>* sprite, <span class="keywordtype">bool</span> complete = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00143"></a>00143                         <span class="keywordtype">bool</span> <a class="code" href="classwsp_1_1Sprite.html#ec2f63b43b613d1383deaf167c9ec7ab">CollidesWith</a>(<span class="keyword">const</span> <a class="code" href="classwsp_1_1TiledLayer.html" title="Capable of drawing a grid of cells with tiles from an image.">TiledLayer</a>* tiledlayer) <span class="keyword">const</span>;
<a name="l00144"></a>00144                         
<a name="l00148"></a>00148                         u32 <a class="code" href="classwsp_1_1Sprite.html#cc1736bce62b522557d95b08f8137da6">GetFrame</a>() <span class="keyword">const</span>;
<a name="l00153"></a>00153                         u32 <a class="code" href="classwsp_1_1Sprite.html#8c6ce2d60e9fd6c92e90a7bee06047ae">GetFrameSequencePos</a>() <span class="keyword">const</span>;
<a name="l00157"></a>00157                         u32 <a class="code" href="classwsp_1_1Sprite.html#2da9ef87d43367f0da8c07cb0821b552">GetFrameSequenceLength</a>() <span class="keyword">const</span>;
<a name="l00160"></a>00160                         u32 <a class="code" href="classwsp_1_1Sprite.html#ce2262866b4a2ac9bedee782400df72e">GetRawFrameCount</a>() <span class="keyword">const</span>;
<a name="l00164"></a>00164                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#c3738722b7ea3d37c81476220d27f3ee">SetFrame</a>(u32 sequenceIndex);
<a name="l00167"></a>00167                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#eb5e5383a31952a964f59f88db9ead8d">NextFrame</a>();
<a name="l00170"></a>00170                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#ab71ef2a7babd368b423f94a1c20f045">PrevFrame</a>();
<a name="l00175"></a>00175                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#beeec73f25d08984ff24ecb7df23affa">SetFrameSequence</a>(u32* sequence, u32 length);
<a name="l00176"></a>00176 
<a name="l00178"></a>00178                         <span class="keywordtype">void</span> <a class="code" href="classwsp_1_1Sprite.html#b0dec3fe23e56df3959db4c4fe654d16" title="Draws the Sprite.">Draw</a>(f32 offsetX = 0, f32 offsetY = 0) <span class="keyword">const</span>;
<a name="l00179"></a>00179                 <span class="keyword">protected</span>:
<a name="l00180"></a>00180                 <span class="keyword">private</span>:
<a name="l00181"></a>00181                         <span class="keywordtype">void</span> _CalcFrame();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183                         f32 _rotation, _stretchWidth, _stretchHeight;
<a name="l00184"></a>00184                         u8 _alpha;
<a name="l00185"></a>00185                         <a class="code" href="classwsp_1_1Image.html" title="Stores imagedata and is capable of loading pngs.">Image</a>* _image;
<a name="l00186"></a>00186                         u8 _trans;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188                         <a class="code" href="structwsp_1_1Rectangle.html" title="Basic data for a rectangle.">Rectangle</a>* _colRect;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190                         u32 _frame, _frameRawCount;
<a name="l00191"></a>00191                         u32* _frameSeq; u32 _frameSeqLength, _frameSeqPos;
<a name="l00192"></a>00192                         f32 _txCoords[4];
<a name="l00193"></a>00193                         f32 _refPixelX, _refPixelY, _refWidth, _refHeight;
<a name="l00194"></a>00194                         <a class="code" href="namespacewsp.html#e648803dc5e4d4c6913b7519d561a444" title="Changes how the position gets calculated for the sprite.">REFPIXEL_POSITIONING</a> _positioning;
<a name="l00195"></a>00195         };
<a name="l00196"></a>00196 };
<a name="l00197"></a>00197 
<a name="l00229"></a>00229 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 10 20:36:15 2008 for libwiisprite by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
